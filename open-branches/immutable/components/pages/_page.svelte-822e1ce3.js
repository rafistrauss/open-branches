import{S as Ge,i as Re,s as Be,a as I,k as p,q as T,e as oe,J as Ae,h as r,c as w,l as _,m as v,r as g,p as Ue,n as q,b as G,H as o,K as ce,L as X,M as Pe,C as Ee,N as Se,O as De,o as Me,P as ue,u as fe}from"../../chunks/index-63a403e0.js";const ye="0.0.1";async function je(c,l){const n={Authorization:`Bearer ${c}`,Accept:"application/vnd.github.v3+json"},e={};for(const t of l){const s=`https://api.github.com/repos/${t}/branches`,a=await fetch(s,{headers:n});if(!a.ok){console.error(`Failed to fetch branches for ${t}: ${a.status} ${a.statusText}`);continue}const b=(await a.json()).filter(k=>k.protected===!1).map(k=>k.name);e[t]=b}return console.log(e),e}function Te(c,l,n){const e=c.slice();return e[15]=l[n][0],e[16]=l[n][1],e}function ge(c,l,n){const e=c.slice();return e[19]=l[n],e}function Ne(c,l,n){const e=c.slice();return e[22]=l[n],e[23]=l,e[24]=n,e}function He(c){let l,n=c[2],e=[];for(let t=0;t<n.length;t+=1)e[t]=Ie(Ne(c,n,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=oe()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);l=oe()},m(t,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,s);G(t,l,s)},p(t,s){if(s&132){n=t[2];let a;for(a=0;a<n.length;a+=1){const i=Ne(t,n,a);e[a]?e[a].p(i,s):(e[a]=Ie(i),e[a].c(),e[a].m(l.parentNode,l))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(t){ue(e,t),t&&r(l)}}}function Ie(c){let l,n,e,t,s,a,i,b;function k(){c[12].call(n,c[24])}function y(){return c[13](c[24])}return{c(){l=p("div"),n=p("input"),e=I(),t=p("button"),s=T("Remove"),a=I(),this.h()},l(m){l=_(m,"DIV",{});var h=v(l);n=_(h,"INPUT",{type:!0}),e=w(h),t=_(h,"BUTTON",{type:!0});var H=v(t);s=g(H,"Remove"),H.forEach(r),a=w(h),h.forEach(r),this.h()},h(){q(n,"type","text"),q(t,"type","button")},m(m,h){G(m,l,h),o(l,n),ce(n,c[2][c[24]]),o(l,e),o(l,t),o(t,s),o(l,a),i||(b=[X(n,"input",k),X(t,"click",y)],i=!0)},p(m,h){c=m,h&4&&n.value!==c[2][c[24]]&&ce(n,c[2][c[24]])},d(m){m&&r(l),i=!1,Se(b)}}}function we(c){let l,n=Object.entries(c[0]),e=[];for(let t=0;t<n.length;t+=1)e[t]=Ce(Te(c,n,t));return{c(){for(let t=0;t<e.length;t+=1)e[t].c();l=oe()},l(t){for(let s=0;s<e.length;s+=1)e[s].l(t);l=oe()},m(t,s){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,s);G(t,l,s)},p(t,s){if(s&1){n=Object.entries(t[0]);let a;for(a=0;a<n.length;a+=1){const i=Te(t,n,a);e[a]?e[a].p(i,s):(e[a]=Ce(i),e[a].c(),e[a].m(l.parentNode,l))}for(;a<e.length;a+=1)e[a].d(1);e.length=n.length}},d(t){ue(e,t),t&&r(l)}}}function Le(c){let l,n=c[19]+"",e;return{c(){l=p("li"),e=T(n)},l(t){l=_(t,"LI",{});var s=v(l);e=g(s,n),s.forEach(r)},m(t,s){G(t,l,s),o(l,e)},p(t,s){s&1&&n!==(n=t[19]+"")&&fe(e,n)},d(t){t&&r(l)}}}function Ce(c){let l,n,e,t=c[15]+"",s,a,i,b=c[16].length+"",k,y,m,h,H,C=c[16],f=[];for(let d=0;d<C.length;d+=1)f[d]=Le(ge(c,C,d));return{c(){l=p("section"),n=p("h2"),e=p("a"),s=T(t),i=T(" ("),k=T(b),y=T(" open branches)"),m=I(),h=p("ul");for(let d=0;d<f.length;d+=1)f[d].c();H=I(),this.h()},l(d){l=_(d,"SECTION",{});var E=v(l);n=_(E,"H2",{});var u=v(n);e=_(u,"A",{href:!0});var O=v(e);s=g(O,t),O.forEach(r),i=g(u," ("),k=g(u,b),y=g(u," open branches)"),u.forEach(r),m=w(E),h=_(E,"UL",{});var L=v(h);for(let D=0;D<f.length;D+=1)f[D].l(L);L.forEach(r),H=w(E),E.forEach(r),this.h()},h(){q(e,"href",a=`https://www.github.com/${c[15]}/branches`)},m(d,E){G(d,l,E),o(l,n),o(n,e),o(e,s),o(n,i),o(n,k),o(n,y),o(l,m),o(l,h);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(h,null);o(l,H)},p(d,E){if(E&1&&t!==(t=d[15]+"")&&fe(s,t),E&1&&a!==(a=`https://www.github.com/${d[15]}/branches`)&&q(e,"href",a),E&1&&b!==(b=d[16].length+"")&&fe(k,b),E&1){C=d[16];let u;for(u=0;u<C.length;u+=1){const O=ge(d,C,u);f[u]?f[u].p(O,E):(f[u]=Le(O),f[u].c(),f[u].m(h,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=C.length}},d(d){d&&r(l),ue(f,d)}}}function Oe(c){let l,n,e,t,s,a;function i(y,m){return y[4]==="token"?Ve:Je}let b=i(c),k=b(c);return{c(){l=p("div"),k.c(),n=I(),e=p("button"),t=T("Close"),this.h()},l(y){l=_(y,"DIV",{class:!0});var m=v(l);k.l(m),n=w(m),e=_(m,"BUTTON",{type:!0});var h=v(e);t=g(h,"Close"),h.forEach(r),m.forEach(r),this.h()},h(){q(e,"type","button"),q(l,"class","help")},m(y,m){G(y,l,m),k.m(l,null),o(l,n),o(l,e),o(e,t),s||(a=X(e,"click",c[10]),s=!0)},p(y,m){b!==(b=i(y))&&(k.d(1),k=b(y),k&&(k.c(),k.m(l,n)))},d(y){y&&r(l),k.d(),s=!1,a()}}}function Je(c){let l,n,e,t,s,a,i,b,k,y,m,h,H,C;return{c(){l=p("h2"),n=T("Repo Names"),e=I(),t=p("p"),s=T(`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),a=I(),i=p("ul"),b=p("li"),k=T('Each name should be the full name of the repository, in the format "username/repo-name"'),y=I(),m=p("li"),h=T("Here's an example: "),H=p("code"),C=T("facebook/react")},l(f){l=_(f,"H2",{});var d=v(l);n=g(d,"Repo Names"),d.forEach(r),e=w(f),t=_(f,"P",{});var E=v(t);s=g(E,`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),E.forEach(r),a=w(f),i=_(f,"UL",{});var u=v(i);b=_(u,"LI",{});var O=v(b);k=g(O,'Each name should be the full name of the repository, in the format "username/repo-name"'),O.forEach(r),y=w(u),m=_(u,"LI",{});var L=v(m);h=g(L,"Here's an example: "),H=_(L,"CODE",{});var D=v(H);C=g(D,"facebook/react"),D.forEach(r),L.forEach(r),u.forEach(r)},m(f,d){G(f,l,d),o(l,n),G(f,e,d),G(f,t,d),o(t,s),G(f,a,d),G(f,i,d),o(i,b),o(b,k),o(i,y),o(i,m),o(m,h),o(m,H),o(H,C)},d(f){f&&r(l),f&&r(e),f&&r(t),f&&r(a),f&&r(i)}}}function Ve(c){let l,n,e,t,s,a,i,b,k,y,m,h,H,C,f,d,E,u,O,L,D,M,F,Q,V,j,Z;return{c(){l=p("h2"),n=T("GitHub API Token"),e=I(),t=p("p"),s=T(`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),a=I(),i=p("ol"),b=p("li"),k=T("Go to your GitHub settings"),y=I(),m=p("li"),h=T('Click on "Developer settings"'),H=I(),C=p("li"),f=T('Click on "Personal access tokens"'),d=I(),E=p("li"),u=T('Click "Generate new token"'),O=I(),L=p("li"),D=T("Give the token a name and select the appropriate scopes"),M=I(),F=p("li"),Q=T('Click "Generate token"'),V=I(),j=p("li"),Z=T('Copy the token and paste it into the "GitHub Token" field above')},l(S){l=_(S,"H2",{});var B=v(l);n=g(B,"GitHub API Token"),B.forEach(r),e=w(S),t=_(S,"P",{});var x=v(t);s=g(x,`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),x.forEach(r),a=w(S),i=_(S,"OL",{});var R=v(i);b=_(R,"LI",{});var z=v(b);k=g(z,"Go to your GitHub settings"),z.forEach(r),y=w(R),m=_(R,"LI",{});var ee=v(m);h=g(ee,'Click on "Developer settings"'),ee.forEach(r),H=w(R),C=_(R,"LI",{});var te=v(C);f=g(te,'Click on "Personal access tokens"'),te.forEach(r),d=w(R),E=_(R,"LI",{});var $=v(E);u=g($,'Click "Generate new token"'),$.forEach(r),O=w(R),L=_(R,"LI",{});var K=v(L);D=g(K,"Give the token a name and select the appropriate scopes"),K.forEach(r),M=w(R),F=_(R,"LI",{});var le=v(F);Q=g(le,'Click "Generate token"'),le.forEach(r),V=w(R),j=_(R,"LI",{});var ne=v(j);Z=g(ne,'Copy the token and paste it into the "GitHub Token" field above'),ne.forEach(r),R.forEach(r)},m(S,B){G(S,l,B),o(l,n),G(S,e,B),G(S,t,B),o(t,s),G(S,a,B),G(S,i,B),o(i,b),o(b,k),o(i,y),o(i,m),o(m,h),o(i,H),o(i,C),o(C,f),o(i,d),o(i,E),o(E,u),o(i,O),o(i,L),o(L,D),o(i,M),o(i,F),o(F,Q),o(i,V),o(i,j),o(j,Z)},d(S){S&&r(l),S&&r(e),S&&r(t),S&&r(a),S&&r(i)}}}function qe(c){var he;let l,n,e,t,s,a,i,b,k,y,m,h,H,C,f,d,E,u,O,L,D,M,F,Q,V,j,Z,S,B,x,R,z,ee,te,$,K,le,ne;document.title=l="v"+ye;let A=((he=c[2])==null?void 0:he.length)&&He(c),U=c[0]&&we(c),P=c[3]&&Oe(c);return{c(){n=I(),e=p("main"),t=p("h1"),s=T("Open Branches"),a=I(),i=p("section"),b=p("details"),k=p("summary"),y=T("Setup"),m=I(),h=p("form"),H=p("label"),C=T(`GitHub Token:
					`),f=p("input"),d=I(),E=p("button"),u=T("?"),O=I(),L=p("br"),D=I(),M=p("label"),F=T(`Repo Names:
					`),A&&A.c(),Q=I(),V=p("div"),j=p("button"),Z=T("Add Repo"),S=I(),B=p("button"),x=T("?"),R=I(),z=p("button"),ee=T("Save"),te=I(),U&&U.c(),$=I(),P&&P.c(),K=oe(),this.h()},l(N){Ae("svelte-153rk4w",document.head).forEach(r),n=w(N),e=_(N,"MAIN",{});var Y=v(e);t=_(Y,"H1",{});var pe=v(t);s=g(pe,"Open Branches"),pe.forEach(r),a=w(Y),i=_(Y,"SECTION",{});var _e=v(i);b=_(_e,"DETAILS",{});var re=v(b);k=_(re,"SUMMARY",{style:!0});var me=v(k);y=g(me,"Setup"),me.forEach(r),m=w(re),h=_(re,"FORM",{});var W=v(h);H=_(W,"LABEL",{});var ae=v(H);C=g(ae,`GitHub Token:
					`),f=_(ae,"INPUT",{type:!0}),d=w(ae),E=_(ae,"BUTTON",{type:!0});var de=v(E);u=g(de,"?"),de.forEach(r),ae.forEach(r),O=w(W),L=_(W,"BR",{}),D=w(W),M=_(W,"LABEL",{});var se=v(M);F=g(se,`Repo Names:
					`),A&&A.l(se),Q=w(se),V=_(se,"DIV",{});var ie=v(V);j=_(ie,"BUTTON",{type:!0});var be=v(j);Z=g(be,"Add Repo"),be.forEach(r),S=w(ie),B=_(ie,"BUTTON",{type:!0});var ve=v(B);x=g(ve,"?"),ve.forEach(r),ie.forEach(r),se.forEach(r),R=w(W),z=_(W,"BUTTON",{type:!0});var ke=v(z);ee=g(ke,"Save"),ke.forEach(r),W.forEach(r),re.forEach(r),_e.forEach(r),te=w(Y),U&&U.l(Y),Y.forEach(r),$=w(N),P&&P.l(N),K=oe(),this.h()},h(){Ue(k,"cursor","pointer"),q(f,"type","text"),q(E,"type","button"),q(j,"type","button"),q(B,"type","button"),q(z,"type","submit")},m(N,J){G(N,n,J),G(N,e,J),o(e,t),o(t,s),o(e,a),o(e,i),o(i,b),o(b,k),o(k,y),o(b,m),o(b,h),o(h,H),o(H,C),o(H,f),ce(f,c[1]),o(H,d),o(H,E),o(E,u),o(h,O),o(h,L),o(h,D),o(h,M),o(M,F),A&&A.m(M,null),o(M,Q),o(M,V),o(V,j),o(j,Z),o(V,S),o(V,B),o(B,x),o(h,R),o(h,z),o(z,ee),o(e,te),U&&U.m(e,null),G(N,$,J),P&&P.m(N,J),G(N,K,J),le||(ne=[X(f,"input",c[11]),X(E,"click",c[8]),X(j,"click",c[6]),X(B,"click",c[9]),X(h,"submit",Pe(c[5]))],le=!0)},p(N,[J]){var Y;J&0&&l!==(l="v"+ye)&&(document.title=l),J&2&&f.value!==N[1]&&ce(f,N[1]),(Y=N[2])!=null&&Y.length?A?A.p(N,J):(A=He(N),A.c(),A.m(M,Q)):A&&(A.d(1),A=null),N[0]?U?U.p(N,J):(U=we(N),U.c(),U.m(e,null)):U&&(U.d(1),U=null),N[3]?P?P.p(N,J):(P=Oe(N),P.c(),P.m(K.parentNode,K)):P&&(P.d(1),P=null)},i:Ee,o:Ee,d(N){N&&r(n),N&&r(e),A&&A.d(),U&&U.d(),N&&r($),P&&P.d(N),N&&r(K),le=!1,Se(ne)}}}function Fe(c,l,n){const e=De();let t,s="",a=[""],i=!1,b=null;Me(async()=>{const u=localStorage.getItem("githubToken");n(1,s=u);const O=localStorage.getItem("repoNames"),L=JSON.parse(O);n(2,a=L??[]),u&&(L!=null&&L.length)&&n(0,t=await je(u,L))});async function k(){const u=(s==null?void 0:s.trim())??"",O=a.map(L=>L.trim()).filter(Boolean);localStorage.setItem("githubToken",u),localStorage.setItem("repoNames",JSON.stringify(O)),e("setupComplete")}function y(){console.log("TCL ~ file: +page.svelte:36 ~ addRepoName ~ addRepoName:",a),n(2,a=[...a,""])}function m(u){n(2,a=a.filter((O,L)=>L!==u))}function h(){n(3,i=!0),n(4,b="token")}function H(){n(3,i=!0),n(4,b="repoNames")}function C(u){n(3,i=!1)}function f(){s=this.value,n(1,s)}function d(u){a[u]=this.value,n(2,a)}return[t,s,a,i,b,k,y,m,h,H,C,f,d,u=>m(u)]}class Ke extends Ge{constructor(l){super(),Re(this,l,Fe,qe,Be,{})}}export{Ke as default};
