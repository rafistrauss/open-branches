import{S as Le,i as Ce,s as Oe,k as p,q as g,a as I,e as ee,l as _,m as b,r as T,h as i,c as w,p as Se,n as q,b as B,H as a,J as re,K as W,L as Ge,C as be,M as we,N as Re,o as Be,O as ce,u as ie}from"../../chunks/index-99000779.js";async function Ae(c,t){const n={Authorization:`Bearer ${c}`,Accept:"application/vnd.github.v3+json"},e={};for(const l of t){const s=`https://api.github.com/repos/${l}/branches`,o=await fetch(s,{headers:n});if(!o.ok){console.error(`Failed to fetch branches for ${l}: ${o.status} ${o.statusText}`);continue}const v=(await o.json()).filter(k=>k.protected===!1).map(k=>k.name);e[l]=v}return console.log(e),e}function ve(c,t,n){const e=c.slice();return e[15]=t[n][0],e[16]=t[n][1],e}function ke(c,t,n){const e=c.slice();return e[19]=t[n],e}function Ee(c,t,n){const e=c.slice();return e[22]=t[n],e[23]=t,e[24]=n,e}function ye(c){let t,n=c[2],e=[];for(let l=0;l<n.length;l+=1)e[l]=ge(Ee(c,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=ee()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);t=ee()},m(l,s){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,s);B(l,t,s)},p(l,s){if(s&132){n=l[2];let o;for(o=0;o<n.length;o+=1){const r=Ee(l,n,o);e[o]?e[o].p(r,s):(e[o]=ge(r),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(l){ce(e,l),l&&i(t)}}}function ge(c){let t,n,e,l,s,o,r,v;function k(){c[12].call(n,c[24])}function d(){return c[13](c[24])}return{c(){t=p("div"),n=p("input"),e=I(),l=p("button"),s=g("Remove"),o=I(),this.h()},l(h){t=_(h,"DIV",{});var E=b(t);n=_(E,"INPUT",{type:!0}),e=w(E),l=_(E,"BUTTON",{type:!0});var N=b(l);s=T(N,"Remove"),N.forEach(i),o=w(E),E.forEach(i),this.h()},h(){q(n,"type","text"),q(l,"type","button")},m(h,E){B(h,t,E),a(t,n),re(n,c[2][c[24]]),a(t,e),a(t,l),a(l,s),a(t,o),r||(v=[W(n,"input",k),W(l,"click",d)],r=!0)},p(h,E){c=h,E&4&&n.value!==c[2][c[24]]&&re(n,c[2][c[24]])},d(h){h&&i(t),r=!1,we(v)}}}function Te(c){let t,n=Object.entries(c[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=He(ve(c,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=ee()},l(l){for(let s=0;s<e.length;s+=1)e[s].l(l);t=ee()},m(l,s){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(l,s);B(l,t,s)},p(l,s){if(s&1){n=Object.entries(l[0]);let o;for(o=0;o<n.length;o+=1){const r=ve(l,n,o);e[o]?e[o].p(r,s):(e[o]=He(r),e[o].c(),e[o].m(t.parentNode,t))}for(;o<e.length;o+=1)e[o].d(1);e.length=n.length}},d(l){ce(e,l),l&&i(t)}}}function Ne(c){let t,n=c[19]+"",e;return{c(){t=p("li"),e=g(n)},l(l){t=_(l,"LI",{});var s=b(t);e=T(s,n),s.forEach(i)},m(l,s){B(l,t,s),a(t,e)},p(l,s){s&1&&n!==(n=l[19]+"")&&ie(e,n)},d(l){l&&i(t)}}}function He(c){let t,n,e,l=c[15]+"",s,o,r,v=c[16].length+"",k,d,h,E,N,C=c[16],f=[];for(let m=0;m<C.length;m+=1)f[m]=Ne(ke(c,C,m));return{c(){t=p("section"),n=p("h2"),e=p("a"),s=g(l),r=g(" ("),k=g(v),d=g(" open branches)"),h=I(),E=p("ul");for(let m=0;m<f.length;m+=1)f[m].c();N=I(),this.h()},l(m){t=_(m,"SECTION",{});var H=b(t);n=_(H,"H2",{});var u=b(n);e=_(u,"A",{href:!0});var O=b(e);s=T(O,l),O.forEach(i),r=T(u," ("),k=T(u,v),d=T(u," open branches)"),u.forEach(i),h=w(H),E=_(H,"UL",{});var y=b(E);for(let D=0;D<f.length;D+=1)f[D].l(y);y.forEach(i),N=w(H),H.forEach(i),this.h()},h(){q(e,"href",o=`https://www.github.com/${c[15]}/branches`)},m(m,H){B(m,t,H),a(t,n),a(n,e),a(e,s),a(n,r),a(n,k),a(n,d),a(t,h),a(t,E);for(let u=0;u<f.length;u+=1)f[u]&&f[u].m(E,null);a(t,N)},p(m,H){if(H&1&&l!==(l=m[15]+"")&&ie(s,l),H&1&&o!==(o=`https://www.github.com/${m[15]}/branches`)&&q(e,"href",o),H&1&&v!==(v=m[16].length+"")&&ie(k,v),H&1){C=m[16];let u;for(u=0;u<C.length;u+=1){const O=ke(m,C,u);f[u]?f[u].p(O,H):(f[u]=Ne(O),f[u].c(),f[u].m(E,null))}for(;u<f.length;u+=1)f[u].d(1);f.length=C.length}},d(m){m&&i(t),ce(f,m)}}}function Ie(c){let t,n,e,l,s,o;function r(d,h){return d[4]==="token"?Pe:Ue}let v=r(c),k=v(c);return{c(){t=p("div"),k.c(),n=I(),e=p("button"),l=g("Close"),this.h()},l(d){t=_(d,"DIV",{class:!0});var h=b(t);k.l(h),n=w(h),e=_(h,"BUTTON",{type:!0});var E=b(e);l=T(E,"Close"),E.forEach(i),h.forEach(i),this.h()},h(){q(e,"type","button"),q(t,"class","help")},m(d,h){B(d,t,h),k.m(t,null),a(t,n),a(t,e),a(e,l),s||(o=W(e,"click",c[10]),s=!0)},p(d,h){v!==(v=r(d))&&(k.d(1),k=v(d),k&&(k.c(),k.m(t,n)))},d(d){d&&i(t),k.d(),s=!1,o()}}}function Ue(c){let t,n,e,l,s,o,r,v,k,d,h,E,N,C;return{c(){t=p("h2"),n=g("Repo Names"),e=I(),l=p("p"),s=g(`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),o=I(),r=p("ul"),v=p("li"),k=g('Each name should be the full name of the repository, in the format "username/repo-name"'),d=I(),h=p("li"),E=g("Here's an example: "),N=p("code"),C=g("facebook/react")},l(f){t=_(f,"H2",{});var m=b(t);n=T(m,"Repo Names"),m.forEach(i),e=w(f),l=_(f,"P",{});var H=b(l);s=T(H,`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),H.forEach(i),o=w(f),r=_(f,"UL",{});var u=b(r);v=_(u,"LI",{});var O=b(v);k=T(O,'Each name should be the full name of the repository, in the format "username/repo-name"'),O.forEach(i),d=w(u),h=_(u,"LI",{});var y=b(h);E=T(y,"Here's an example: "),N=_(y,"CODE",{});var D=b(N);C=T(D,"facebook/react"),D.forEach(i),y.forEach(i),u.forEach(i)},m(f,m){B(f,t,m),a(t,n),B(f,e,m),B(f,l,m),a(l,s),B(f,o,m),B(f,r,m),a(r,v),a(v,k),a(r,d),a(r,h),a(h,E),a(h,N),a(N,C)},d(f){f&&i(t),f&&i(e),f&&i(l),f&&i(o),f&&i(r)}}}function Pe(c){let t,n,e,l,s,o,r,v,k,d,h,E,N,C,f,m,H,u,O,y,D,Y,M,J,X,F,V;return{c(){t=p("h2"),n=g("GitHub API Token"),e=I(),l=p("p"),s=g(`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),o=I(),r=p("ol"),v=p("li"),k=g("Go to your GitHub settings"),d=I(),h=p("li"),E=g('Click on "Developer settings"'),N=I(),C=p("li"),f=g('Click on "Personal access tokens"'),m=I(),H=p("li"),u=g('Click "Generate new token"'),O=I(),y=p("li"),D=g("Give the token a name and select the appropriate scopes"),Y=I(),M=p("li"),J=g('Click "Generate token"'),X=I(),F=p("li"),V=g('Copy the token and paste it into the "GitHub Token" field above')},l(S){t=_(S,"H2",{});var j=b(t);n=T(j,"GitHub API Token"),j.forEach(i),e=w(S),l=_(S,"P",{});var z=b(l);s=T(z,`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),z.forEach(i),o=w(S),r=_(S,"OL",{});var A=b(r);v=_(A,"LI",{});var $=b(v);k=T($,"Go to your GitHub settings"),$.forEach(i),d=w(A),h=_(A,"LI",{});var Z=b(h);E=T(Z,'Click on "Developer settings"'),Z.forEach(i),N=w(A),C=_(A,"LI",{});var K=b(C);f=T(K,'Click on "Personal access tokens"'),K.forEach(i),m=w(A),H=_(A,"LI",{});var x=b(H);u=T(x,'Click "Generate new token"'),x.forEach(i),O=w(A),y=_(A,"LI",{});var te=b(y);D=T(te,"Give the token a name and select the appropriate scopes"),te.forEach(i),Y=w(A),M=_(A,"LI",{});var G=b(M);J=T(G,'Click "Generate token"'),G.forEach(i),X=w(A),F=_(A,"LI",{});var R=b(F);V=T(R,'Copy the token and paste it into the "GitHub Token" field above'),R.forEach(i),A.forEach(i)},m(S,j){B(S,t,j),a(t,n),B(S,e,j),B(S,l,j),a(l,s),B(S,o,j),B(S,r,j),a(r,v),a(v,k),a(r,d),a(r,h),a(h,E),a(r,N),a(r,C),a(C,f),a(r,m),a(r,H),a(H,u),a(r,O),a(r,y),a(y,D),a(r,Y),a(r,M),a(M,J),a(r,X),a(r,F),a(F,V)},d(S){S&&i(t),S&&i(e),S&&i(l),S&&i(o),S&&i(r)}}}function De(c){var fe;let t,n,e,l,s,o,r,v,k,d,h,E,N,C,f,m,H,u,O,y,D,Y,M,J,X,F,V,S,j,z,A,$,Z,K,x,te,G=((fe=c[2])==null?void 0:fe.length)&&ye(c),R=c[0]&&Te(c),U=c[3]&&Ie(c);return{c(){t=p("main"),n=p("h1"),e=g("Open Branches"),l=I(),s=p("section"),o=p("details"),r=p("summary"),v=g("Setup"),k=I(),d=p("form"),h=p("label"),E=g(`GitHub Token:
					`),N=p("input"),C=I(),f=p("button"),m=g("?"),H=I(),u=p("br"),O=I(),y=p("label"),D=g(`Repo Names:
					`),G&&G.c(),Y=I(),M=p("div"),J=p("button"),X=g("Add Repo"),F=I(),V=p("button"),S=g("?"),j=I(),z=p("button"),A=g("Save"),$=I(),R&&R.c(),Z=I(),U&&U.c(),K=ee(),this.h()},l(L){t=_(L,"MAIN",{});var P=b(t);n=_(P,"H1",{});var le=b(n);e=T(le,"Open Branches"),le.forEach(i),l=w(P),s=_(P,"SECTION",{});var ue=b(s);o=_(ue,"DETAILS",{});var ae=b(o);r=_(ae,"SUMMARY",{style:!0});var he=b(r);v=T(he,"Setup"),he.forEach(i),k=w(ae),d=_(ae,"FORM",{});var Q=b(d);h=_(Q,"LABEL",{});var oe=b(h);E=T(oe,`GitHub Token:
					`),N=_(oe,"INPUT",{type:!0}),C=w(oe),f=_(oe,"BUTTON",{type:!0});var pe=b(f);m=T(pe,"?"),pe.forEach(i),oe.forEach(i),H=w(Q),u=_(Q,"BR",{}),O=w(Q),y=_(Q,"LABEL",{});var ne=b(y);D=T(ne,`Repo Names:
					`),G&&G.l(ne),Y=w(ne),M=_(ne,"DIV",{});var se=b(M);J=_(se,"BUTTON",{type:!0});var _e=b(J);X=T(_e,"Add Repo"),_e.forEach(i),F=w(se),V=_(se,"BUTTON",{type:!0});var me=b(V);S=T(me,"?"),me.forEach(i),se.forEach(i),ne.forEach(i),j=w(Q),z=_(Q,"BUTTON",{type:!0});var de=b(z);A=T(de,"Save"),de.forEach(i),Q.forEach(i),ae.forEach(i),ue.forEach(i),$=w(P),R&&R.l(P),P.forEach(i),Z=w(L),U&&U.l(L),K=ee(),this.h()},h(){Se(r,"cursor","pointer"),q(N,"type","text"),q(f,"type","button"),q(J,"type","button"),q(V,"type","button"),q(z,"type","submit")},m(L,P){B(L,t,P),a(t,n),a(n,e),a(t,l),a(t,s),a(s,o),a(o,r),a(r,v),a(o,k),a(o,d),a(d,h),a(h,E),a(h,N),re(N,c[1]),a(h,C),a(h,f),a(f,m),a(d,H),a(d,u),a(d,O),a(d,y),a(y,D),G&&G.m(y,null),a(y,Y),a(y,M),a(M,J),a(J,X),a(M,F),a(M,V),a(V,S),a(d,j),a(d,z),a(z,A),a(t,$),R&&R.m(t,null),B(L,Z,P),U&&U.m(L,P),B(L,K,P),x||(te=[W(N,"input",c[11]),W(f,"click",c[8]),W(J,"click",c[6]),W(V,"click",c[9]),W(d,"submit",Ge(c[5]))],x=!0)},p(L,[P]){var le;P&2&&N.value!==L[1]&&re(N,L[1]),(le=L[2])!=null&&le.length?G?G.p(L,P):(G=ye(L),G.c(),G.m(y,Y)):G&&(G.d(1),G=null),L[0]?R?R.p(L,P):(R=Te(L),R.c(),R.m(t,null)):R&&(R.d(1),R=null),L[3]?U?U.p(L,P):(U=Ie(L),U.c(),U.m(K.parentNode,K)):U&&(U.d(1),U=null)},i:be,o:be,d(L){L&&i(t),G&&G.d(),R&&R.d(),L&&i(Z),U&&U.d(L),L&&i(K),x=!1,we(te)}}}function Me(c,t,n){const e=Re();let l,s="",o=[""],r=!1,v=null;Be(async()=>{const u=localStorage.getItem("githubToken");n(1,s=u);const O=localStorage.getItem("repoNames"),y=JSON.parse(O);n(2,o=y??[]),u&&(y!=null&&y.length)&&n(0,l=await Ae(u,y))});async function k(){const u=(s==null?void 0:s.trim())??"",O=o.map(y=>y.trim()).filter(Boolean);localStorage.setItem("githubToken",u),localStorage.setItem("repoNames",JSON.stringify(O)),e("setupComplete")}function d(){console.log("TCL ~ file: +page.svelte:36 ~ addRepoName ~ addRepoName:",o),n(2,o=[...o,""])}function h(u){n(2,o=o.filter((O,y)=>y!==u))}function E(){n(3,r=!0),n(4,v="token")}function N(){n(3,r=!0),n(4,v="repoNames")}function C(u){n(3,r=!1)}function f(){s=this.value,n(1,s)}function m(u){o[u]=this.value,n(2,o)}return[l,s,o,r,v,k,d,h,E,N,C,f,m,u=>h(u)]}class Je extends Le{constructor(t){super(),Ce(this,t,Me,De,Oe,{})}}export{Je as default};
