import{S as Le,i as Oe,s as Se,k as _,q as T,a as H,e as ie,l as m,m as d,r as g,h as s,c as w,p as Ce,n as F,b as A,H as t,J as ce,K as Z,L as Ge,C as ve,M as he,N as we,O as Be,o as Re,u as fe}from"../../chunks/index-ae45a2be.js";async function Ae(i,e){const o={Authorization:`Bearer ${i}`,Accept:"application/vnd.github.v3+json"},l={};for(const n of e){const c=`https://api.github.com/repos/${n}/branches`,a=await fetch(c,{headers:o});if(!a.ok){console.error(`Failed to fetch branches for ${n}: ${a.status} ${a.statusText}`);continue}const v=(await a.json()).filter(k=>k.protected===!1).map(k=>k.name);l[n]=v}return console.log(l),l}function ke(i,e,o){const l=i.slice();return l[15]=e[o][0],l[16]=e[o][1],l}function Ee(i,e,o){const l=i.slice();return l[19]=e[o],l}function ye(i,e,o){const l=i.slice();return l[22]=e[o],l[23]=e,l[24]=o,l}function Te(i){let e,o,l,n,c,a,r;function v(){i[12].call(o,i[24])}function k(){return i[13](i[24])}return{c(){e=_("div"),o=_("input"),l=H(),n=_("button"),c=T("Remove"),this.h()},l(p){e=m(p,"DIV",{});var h=d(e);o=m(h,"INPUT",{type:!0}),l=w(h),n=m(h,"BUTTON",{type:!0});var I=d(n);c=g(I,"Remove"),I.forEach(s),h.forEach(s),this.h()},h(){F(o,"type","text"),F(n,"type","button")},m(p,h){A(p,e,h),t(e,o),ce(o,i[2][i[24]]),t(e,l),t(e,n),t(n,c),a||(r=[Z(o,"input",v),Z(n,"click",k)],a=!0)},p(p,h){i=p,h&4&&o.value!==i[2][i[24]]&&ce(o,i[2][i[24]])},d(p){p&&s(e),a=!1,we(r)}}}function ge(i){let e,o=Object.entries(i[0]),l=[];for(let n=0;n<o.length;n+=1)l[n]=Ie(ke(i,o,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=ie()},l(n){for(let c=0;c<l.length;c+=1)l[c].l(n);e=ie()},m(n,c){for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(n,c);A(n,e,c)},p(n,c){if(c&1){o=Object.entries(n[0]);let a;for(a=0;a<o.length;a+=1){const r=ke(n,o,a);l[a]?l[a].p(r,c):(l[a]=Ie(r),l[a].c(),l[a].m(e.parentNode,e))}for(;a<l.length;a+=1)l[a].d(1);l.length=o.length}},d(n){he(l,n),n&&s(e)}}}function Ne(i){let e,o=i[19]+"",l;return{c(){e=_("li"),l=T(o)},l(n){e=m(n,"LI",{});var c=d(e);l=g(c,o),c.forEach(s)},m(n,c){A(n,e,c),t(e,l)},p(n,c){c&1&&o!==(o=n[19]+"")&&fe(l,o)},d(n){n&&s(e)}}}function Ie(i){let e,o,l,n=i[15]+"",c,a,r,v=i[16].length+"",k,p,h,I,L,O=i[16],u=[];for(let b=0;b<O.length;b+=1)u[b]=Ne(Ee(i,O,b));return{c(){e=_("section"),o=_("h2"),l=_("a"),c=T(n),r=T(" ("),k=T(v),p=T(" open branches)"),h=H(),I=_("ul");for(let b=0;b<u.length;b+=1)u[b].c();L=H(),this.h()},l(b){e=m(b,"SECTION",{});var N=d(e);o=m(N,"H2",{});var f=d(o);l=m(f,"A",{href:!0});var S=d(l);c=g(S,n),S.forEach(s),r=g(f," ("),k=g(f,v),p=g(f," open branches)"),f.forEach(s),h=w(N),I=m(N,"UL",{});var y=d(I);for(let M=0;M<u.length;M+=1)u[M].l(y);y.forEach(s),L=w(N),N.forEach(s),this.h()},h(){F(l,"href",a=`https://www.github.com/${i[15]}/branches`)},m(b,N){A(b,e,N),t(e,o),t(o,l),t(l,c),t(o,r),t(o,k),t(o,p),t(e,h),t(e,I);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(I,null);t(e,L)},p(b,N){if(N&1&&n!==(n=b[15]+"")&&fe(c,n),N&1&&a!==(a=`https://www.github.com/${b[15]}/branches`)&&F(l,"href",a),N&1&&v!==(v=b[16].length+"")&&fe(k,v),N&1){O=b[16];let f;for(f=0;f<O.length;f+=1){const S=Ee(b,O,f);u[f]?u[f].p(S,N):(u[f]=Ne(S),u[f].c(),u[f].m(I,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=O.length}},d(b){b&&s(e),he(u,b)}}}function He(i){let e,o,l,n,c,a;function r(p,h){return p[4]==="token"?Pe:Ue}let v=r(i),k=v(i);return{c(){e=_("div"),k.c(),o=H(),l=_("button"),n=T("Close"),this.h()},l(p){e=m(p,"DIV",{class:!0});var h=d(e);k.l(h),o=w(h),l=m(h,"BUTTON",{type:!0});var I=d(l);n=g(I,"Close"),I.forEach(s),h.forEach(s),this.h()},h(){F(l,"type","button"),F(e,"class","help")},m(p,h){A(p,e,h),k.m(e,null),t(e,o),t(e,l),t(l,n),c||(a=Z(l,"click",i[10]),c=!0)},p(p,h){v!==(v=r(p))&&(k.d(1),k=v(p),k&&(k.c(),k.m(e,o)))},d(p){p&&s(e),k.d(),c=!1,a()}}}function Ue(i){let e,o,l,n,c,a,r,v,k,p,h,I,L,O;return{c(){e=_("h2"),o=T("Repo Names"),l=H(),n=_("p"),c=T(`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),a=H(),r=_("ul"),v=_("li"),k=T('Each name should be the full name of the repository, in the format "username/repo-name"'),p=H(),h=_("li"),I=T("Here's an example: "),L=_("code"),O=T("facebook/react")},l(u){e=m(u,"H2",{});var b=d(e);o=g(b,"Repo Names"),b.forEach(s),l=w(u),n=m(u,"P",{});var N=d(n);c=g(N,`To use this app, you'll need to enter the names of the repositories you want to check for
				open branches. Here's how to format them:`),N.forEach(s),a=w(u),r=m(u,"UL",{});var f=d(r);v=m(f,"LI",{});var S=d(v);k=g(S,'Each name should be the full name of the repository, in the format "username/repo-name"'),S.forEach(s),p=w(f),h=m(f,"LI",{});var y=d(h);I=g(y,"Here's an example: "),L=m(y,"CODE",{});var M=d(L);O=g(M,"facebook/react"),M.forEach(s),y.forEach(s),f.forEach(s)},m(u,b){A(u,e,b),t(e,o),A(u,l,b),A(u,n,b),t(n,c),A(u,a,b),A(u,r,b),t(r,v),t(v,k),t(r,p),t(r,h),t(h,I),t(h,L),t(L,O)},d(u){u&&s(e),u&&s(l),u&&s(n),u&&s(a),u&&s(r)}}}function Pe(i){let e,o,l,n,c,a,r,v,k,p,h,I,L,O,u,b,N,f,S,y,M,W,V,J,$,z,q;return{c(){e=_("h2"),o=T("GitHub API Token"),l=H(),n=_("p"),c=T(`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),a=H(),r=_("ol"),v=_("li"),k=T("Go to your GitHub settings"),p=H(),h=_("li"),I=T('Click on "Developer settings"'),L=H(),O=_("li"),u=T('Click on "Personal access tokens"'),b=H(),N=_("li"),f=T('Click "Generate new token"'),S=H(),y=_("li"),M=T("Give the token a name and select the appropriate scopes"),W=H(),V=_("li"),J=T('Click "Generate token"'),$=H(),z=_("li"),q=T('Copy the token and paste it into the "GitHub Token" field above')},l(C){e=m(C,"H2",{});var j=d(e);o=g(j,"GitHub API Token"),j.forEach(s),l=w(C),n=m(C,"P",{});var K=d(n);c=g(K,`To use this app, you'll need to generate a personal access token in your GitHub account
				settings. Here's how:`),K.forEach(s),a=w(C),r=m(C,"OL",{});var R=d(r);v=m(R,"LI",{});var ee=d(v);k=g(ee,"Go to your GitHub settings"),ee.forEach(s),p=w(R),h=m(R,"LI",{});var x=d(h);I=g(x,'Click on "Developer settings"'),x.forEach(s),L=w(R),O=m(R,"LI",{});var Y=d(O);u=g(Y,'Click on "Personal access tokens"'),Y.forEach(s),b=w(R),N=m(R,"LI",{});var te=d(N);f=g(te,'Click "Generate new token"'),te.forEach(s),S=w(R),y=m(R,"LI",{});var le=d(y);M=g(le,"Give the token a name and select the appropriate scopes"),le.forEach(s),W=w(R),V=m(R,"LI",{});var Q=d(V);J=g(Q,'Click "Generate token"'),Q.forEach(s),$=w(R),z=m(R,"LI",{});var G=d(z);q=g(G,'Copy the token and paste it into the "GitHub Token" field above'),G.forEach(s),R.forEach(s)},m(C,j){A(C,e,j),t(e,o),A(C,l,j),A(C,n,j),t(n,c),A(C,a,j),A(C,r,j),t(r,v),t(v,k),t(r,p),t(r,h),t(h,I),t(r,L),t(r,O),t(O,u),t(r,b),t(r,N),t(N,f),t(r,S),t(r,y),t(y,M),t(r,W),t(r,V),t(V,J),t(r,$),t(r,z),t(z,q)},d(C){C&&s(e),C&&s(l),C&&s(n),C&&s(a),C&&s(r)}}}function De(i){let e,o,l,n,c,a,r,v,k,p,h,I,L,O,u,b,N,f,S,y,M,W,V,J,$,z,q,C,j,K,R,ee,x,Y,te,le,Q=i[2],G=[];for(let E=0;E<Q.length;E+=1)G[E]=Te(ye(i,Q,E));let P=i[0]&&ge(i),D=i[3]&&He(i);return{c(){e=_("main"),o=_("h1"),l=T("Open Branches"),n=H(),c=_("section"),a=_("details"),r=_("summary"),v=T("Setup"),k=H(),p=_("form"),h=_("label"),I=T(`GitHub Token:
					`),L=_("input"),O=H(),u=_("button"),b=T("?"),N=H(),f=_("br"),S=H(),y=_("label"),M=T(`Repo Names:
					`);for(let E=0;E<G.length;E+=1)G[E].c();W=H(),V=_("div"),J=_("button"),$=T("Add Repo"),z=H(),q=_("button"),C=T("?"),j=H(),K=_("button"),R=T("Save"),ee=H(),P&&P.c(),x=H(),D&&D.c(),Y=ie(),this.h()},l(E){e=m(E,"MAIN",{});var U=d(e);o=m(U,"H1",{});var B=d(o);l=g(B,"Open Branches"),B.forEach(s),n=w(U),c=m(U,"SECTION",{});var oe=d(c);a=m(oe,"DETAILS",{});var se=d(a);r=m(se,"SUMMARY",{style:!0});var pe=d(r);v=g(pe,"Setup"),pe.forEach(s),k=w(se),p=m(se,"FORM",{});var X=d(p);h=m(X,"LABEL",{});var ne=d(h);I=g(ne,`GitHub Token:
					`),L=m(ne,"INPUT",{type:!0}),O=w(ne),u=m(ne,"BUTTON",{type:!0});var _e=d(u);b=g(_e,"?"),_e.forEach(s),ne.forEach(s),N=w(X),f=m(X,"BR",{}),S=w(X),y=m(X,"LABEL",{});var ae=d(y);M=g(ae,`Repo Names:
					`);for(let ue=0;ue<G.length;ue+=1)G[ue].l(ae);W=w(ae),V=m(ae,"DIV",{});var re=d(V);J=m(re,"BUTTON",{type:!0});var me=d(J);$=g(me,"Add Repo"),me.forEach(s),z=w(re),q=m(re,"BUTTON",{type:!0});var be=d(q);C=g(be,"?"),be.forEach(s),re.forEach(s),ae.forEach(s),j=w(X),K=m(X,"BUTTON",{type:!0});var de=d(K);R=g(de,"Save"),de.forEach(s),X.forEach(s),se.forEach(s),oe.forEach(s),ee=w(U),P&&P.l(U),U.forEach(s),x=w(E),D&&D.l(E),Y=ie(),this.h()},h(){Ce(r,"cursor","pointer"),F(L,"type","text"),F(u,"type","button"),F(J,"type","button"),F(q,"type","button"),F(K,"type","submit")},m(E,U){A(E,e,U),t(e,o),t(o,l),t(e,n),t(e,c),t(c,a),t(a,r),t(r,v),t(a,k),t(a,p),t(p,h),t(h,I),t(h,L),ce(L,i[1]),t(h,O),t(h,u),t(u,b),t(p,N),t(p,f),t(p,S),t(p,y),t(y,M);for(let B=0;B<G.length;B+=1)G[B]&&G[B].m(y,null);t(y,W),t(y,V),t(V,J),t(J,$),t(V,z),t(V,q),t(q,C),t(p,j),t(p,K),t(K,R),t(e,ee),P&&P.m(e,null),A(E,x,U),D&&D.m(E,U),A(E,Y,U),te||(le=[Z(L,"input",i[11]),Z(u,"click",i[8]),Z(J,"click",i[6]),Z(q,"click",i[9]),Z(p,"submit",Ge(i[5]))],te=!0)},p(E,[U]){if(U&2&&L.value!==E[1]&&ce(L,E[1]),U&132){Q=E[2];let B;for(B=0;B<Q.length;B+=1){const oe=ye(E,Q,B);G[B]?G[B].p(oe,U):(G[B]=Te(oe),G[B].c(),G[B].m(y,W))}for(;B<G.length;B+=1)G[B].d(1);G.length=Q.length}E[0]?P?P.p(E,U):(P=ge(E),P.c(),P.m(e,null)):P&&(P.d(1),P=null),E[3]?D?D.p(E,U):(D=He(E),D.c(),D.m(Y.parentNode,Y)):D&&(D.d(1),D=null)},i:ve,o:ve,d(E){E&&s(e),he(G,E),P&&P.d(),E&&s(x),D&&D.d(E),E&&s(Y),te=!1,we(le)}}}function Me(i,e,o){const l=Be();let n,c="",a=[""],r=!1,v=null;Re(async()=>{const f=localStorage.getItem("githubToken");o(1,c=f);const S=localStorage.getItem("repoNames"),y=JSON.parse(S);o(2,a=y),f&&(y!=null&&y.length)&&o(0,n=await Ae(f,y))});async function k(){const f=c.trim(),S=a.map(y=>y.trim()).filter(Boolean);localStorage.setItem("githubToken",f),localStorage.setItem("repoNames",JSON.stringify(S)),l("setupComplete"),location.reload()}function p(){o(2,a=[...a,""])}function h(f){o(2,a=a.filter((S,y)=>y!==f))}function I(){o(3,r=!0),o(4,v="token")}function L(){o(3,r=!0),o(4,v="repoNames")}function O(f){o(3,r=!1)}function u(){c=this.value,o(1,c)}function b(f){a[f]=this.value,o(2,a)}return[n,c,a,r,v,k,p,h,I,L,O,u,b,f=>h(f)]}class je extends Le{constructor(e){super(),Oe(this,e,Me,De,Se,{})}}export{je as default};
